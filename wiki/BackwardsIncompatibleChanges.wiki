#summary Backwards incompatible changes for the Pinax project.
#labels Featured

= Backwards Incompatible Changes =

This wiki page indicates the changes to the source code that are backward incompatible. Keep a close eye to this page if you follow the development of Pinax. Stable releases will always contain a change log showing any big changes you must be aware of. This is where they will come from.

=== r887 (September 18, 2008) ===

In r887 we moved `site-packages/` to `external_libs/` and `apps/` to `external_apps/`. We have properly updated `manage.py` to work with this change, but if you are using Pinax in another environment such as mod_python or mod_wsgi, you will need to adjust the `PYTHONPATH` that you set there to reflect this change.

In some cases the `apps/` directory is not removed by Subversion. If you still have an `apps/` directory in your Pinax tree, you should `rm -rf` that directory.

=== r890 and r895 (September 18, 2008) ===

Similar to r887, in r890 we moved `pinax/local_apps/` up a directory and renamed it to `local_apps/`. In r895 we split apps that are core specific and moved them to `core_apps`. The apps moved are:

 * about
 * friends_app
 * games
 * photos
 * tag_app

=== r908 (September 20, 2008) ===

In order to deal with a naming clash, the internal 'things' app was renamed to 'things_app'.  This change is due to the fact that we will be integrating the external django-things project, which requires the app to be named 'things'.  This _should_ not affect anyone, but we list it because sometimes old files can stick around and this would be high on the suspect list.

*UPDATE*: If you get a `'module' object has no attribute 'ModelThing'` the most likely cause is the old `things` app under local_apps needs to be deleted. SVN leaves things lying around in sandbox even after they've gone from repos.

=== r915 (September 21, 2008) ===

The introduction of the 'things' app also required changes in the URL configuration of the 'tribes' and 'projects' app. Most notably this affects permalinks of `Project` and `Tribe` instances that might have been saved in notifications and could have been sent out via e-mail to your users.

To compensate this change please change the `urls.py` in your Pinax root directory so it looks like the snippet below. That will redirect to the correct URLs, if one of the old URLs are used:

{{{
from django.views.generic.simple import redirect_to
# ...
urlpatterns = patterns('',
    # ...
    (r'^tribes/(?P<slug>((?!create|your_tribes)\w+))/$', redirect_to, {'url': '/tribes/tribe/%(slug)s/'}),
    (r'^tribes/', include('tribes.urls')),
    (r'^projects/(?P<slug>((?!create|your_projects)\w+))/$', redirect_to, {'url': '/projects/project/%(slug)s/'}),
    (r'^projects/', include('projects.urls')),
    # ...
)
}}}

=== r943 through r953 (September 27, 2008) ===

I've split the account and other services information out of the `Profile` model into `Account` and `OtherServiceInfo` models under `account` app. Via signals, `Account`s should now be created whenever a `User` is. Furthermore, there is a new management command `create_accounts_from_profiles` that will migrate over the data from `Profile` to `Account` and `OtherServiceInfo`.

Not everything has been converted over to using the new models so any revisions in this range are likely unstable. r943 will work but the database will get out of sync once you run `create_accounts_from_profiles` as the code in that revision is still updating old model.

=== *SVN Move* October 14, 2008 ====

We have officially moved our SVN hosting from Google Code to svn.pinaxproject.com. This isn't really a backward incompatible change as in things will start break, but executing `svn up` simply won't pull new changes. To continue to get updates we recommend you re-checkout the code base as follows:

{{{
svn checkout https://svn.pinaxproject.com/trunk pinax
}}}

We are now encouraging the use of the name `pinax` at the top-level. One of the reasons for the move is to reduce the confusion on what is django-hotclub and Pinax. There are also several other good reasons why we needed move and they will become apparent in the future.

=== 1091 (October 18, 2008) ===

I have renamed  two plural models names in photos application (not photologue).  `Photos` is now named `Image` and `PhotoSets` is now named `PhotoSet`.  This change has been successfully tested against all related views and forms as well as the admin.